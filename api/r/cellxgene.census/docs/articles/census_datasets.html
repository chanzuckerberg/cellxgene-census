<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Census Datasets example • cellxgene.census</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Census Datasets example">
<script defer data-domain="chanzuckerberg.github.io/cellxgene-census" src="https://plausible.io/js/script.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cellxgene.census</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.15.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="external-link nav-link" href="https://chanzuckerberg.github.io/cellxgene-census/">Main Census Site</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Use Census embeddings</h6></li>
    <li><a class="dropdown-item" href="../articles/census_access_maintained_embeddings.html">Access CELLxGENE collaboration embeddings (scVI, Geneformer)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Explore and analyze the data</h6></li>
    <li><a class="dropdown-item" href="../articles/comp_bio_census_info.html">Learning about the CZ CELLxGENE Census</a></li>
    <li><a class="dropdown-item" href="../articles/comp_bio_summarize_axis_query.html">Summarizing cell and gene metadata</a></li>
    <li><a class="dropdown-item" href="../articles/comp_bio_data_integration.html">Integrating multi-dataset slices of data with Seurat</a></li>
    <li><a class="dropdown-item" href="../articles/comp_bio_normalizing_full_gene_sequencing.html">Normalizing full-length gene sequencing data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>cellxgene.census capabilities</h6></li>
    <li><a class="dropdown-item" href="../articles/census_query_extract.html">Querying and fetching the single-cell data and cell/gene metadata</a></li>
    <li><a class="dropdown-item" href="../articles/census_citation_generation.html">Generating citations for Census slices</a></li>
    <li><a class="dropdown-item" href="../articles/census_datasets.html">Census Datasets example</a></li>
    <li><a class="dropdown-item" href="../articles/census_dataset_presence.html">Genes measured in each cell (dataset presence matrix)</a></li>
    <li><a class="dropdown-item" href="../articles/census_compute_over_X.html">Computing on X using online (incremental) algorithms</a></li>
    <li><a class="dropdown-item" href="../articles/census_access_maintained_embeddings.html">Access CELLxGENE collaboration embeddings (scVI, Geneformer)</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chanzuckerberg/cellxgene-census/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="census_datasets_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Census Datasets example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chanzuckerberg/cellxgene-census/tree/main/api/r/cellxgene.census/vignettes/census_datasets.Rmd" class="external-link"><code>vignettes/census_datasets.Rmd</code></a></small>
      <div class="d-none name"><code>census_datasets.Rmd</code></div>
    </div>

    
    
<!--
THIS VIGNETTE IS BASED ON:
https://github.com/chanzuckerberg/cellxgene-census/blob/main/api/python/notebooks/api_demo/census_datasets.ipynb
-->
<p>This tutorial demonstrates basic use of the <code>census_datasets</code> data frame that contains metadata of the Census source datasets. This metadata can be joined to the cell metadata data frame (<code>obs</code>) via the column dataset_id.</p>
<p><strong>Contents</strong></p>
<ol style="list-style-type: decimal">
<li>Fetching the datasets table.</li>
<li>Fetching the expression data from a single dataset.</li>
<li>Downloading the original source H5AD file of a dataset.</li>
</ol>
<div class="section level2">
<h2 id="fetching-the-datasets-table">Fetching the datasets table<a class="anchor" aria-label="anchor" href="#fetching-the-datasets-table"></a>
</h2>
<p>Each Census contains a top-level data frame itemizing the datasets contained therein. You can read this <code>SOMADataFrame</code> into an <a href="https://arrow.apache.org/docs/r/reference/Table.html" class="external-link">Arrow Table</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/chanzuckerberg/cellxgene-census" class="external-link">"cellxgene.census"</a></span><span class="op">)</span></span>
<span><span class="va">census</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/open_soma.html">open_soma</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">census_datasets</span> <span class="op">&lt;-</span> <span class="va">census</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"census_info"</span><span class="op">)</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"datasets"</span><span class="op">)</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">concat</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">census_datasets</span><span class="op">)</span></span>
<span><span class="co">#&gt; Table</span></span>
<span><span class="co">#&gt; 812 rows x 10 columns</span></span>
<span><span class="co">#&gt; $soma_joinid &lt;int64 not null&gt;</span></span>
<span><span class="co">#&gt; $citation &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $collection_id &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $collection_name &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $collection_doi &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $dataset_id &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $dataset_version_id &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $dataset_title &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $dataset_h5ad_path &lt;large_string not null&gt;</span></span>
<span><span class="co">#&gt; $dataset_total_cell_count &lt;int64 not null&gt;</span></span></code></pre></div>
<p>and then an R data frame:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">census_datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">census_datasets</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">census_datasets</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"dataset_id"</span>,</span>
<span>  <span class="st">"dataset_title"</span>,</span>
<span>  <span class="st">"dataset_total_cell_count"</span></span>
<span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                              dataset_id</span></span>
<span><span class="co">#&gt; 1  0895c838-e550-48a3-a777-dbcd35d30272</span></span>
<span><span class="co">#&gt; 2  00ff600e-6e2e-4d76-846f-0eec4f0ae417</span></span>
<span><span class="co">#&gt; 3  bdacc907-7c26-419f-8808-969eab3ca2e8</span></span>
<span><span class="co">#&gt; 4  a5d95a42-0137-496f-8a60-101e17f263c8</span></span>
<span><span class="co">#&gt; 5  d3566d6a-a455-4a15-980f-45eb29114cab</span></span>
<span><span class="co">#&gt; 6  de17ac25-550a-4018-be75-bbb485a0636e</span></span>
<span><span class="co">#&gt; 7  9f1049ac-f8b7-45ad-8e31-6e96c3e5058f</span></span>
<span><span class="co">#&gt; 8  703f00e6-b996-48e5-bc34-00c41b9876f4</span></span>
<span><span class="co">#&gt; 9  e347396c-a7ff-4691-9f7a-99a43555ca18</span></span>
<span><span class="co">#&gt; 10 524e045e-e74c-4e00-9884-d5c3bef3d862</span></span>
<span><span class="co">#&gt; 11 a49d9109-1d0c-4b36-8139-19aa9a83428c</span></span>
<span><span class="co">#&gt; 12 0c9a8cfb-6649-4d52-b418-6d8e56bd7afe</span></span>
<span><span class="co">#&gt; 13 06b91002-4d3d-4d2e-8484-20c3b31e232c</span></span>
<span><span class="co">#&gt; 14 4993d61c-1d04-4630-9c61-8d9431f39adc</span></span>
<span><span class="co">#&gt; 15 b94e3bdf-a385-49cc-b312-7a63cc28b77a</span></span>
<span><span class="co">#&gt; 16 df287f8d-f50d-4620-ab96-489d559e6adc</span></span>
<span><span class="co">#&gt; 17 eec804b9-2ae5-44f0-a1b5-d721e21257de</span></span>
<span><span class="co">#&gt; 18 f9ad5649-f372-43e1-a3a8-423383e5a8a2</span></span>
<span><span class="co">#&gt; 19 a810e511-c18b-4b2a-8fdf-98a6a0d433a7</span></span>
<span><span class="co">#&gt; 20 ea426edb-4e86-4c53-ab17-5b952d94a31e</span></span>
<span><span class="co">#&gt; 21 04d87de6-c20a-4186-8884-f47dba20b0a4</span></span>
<span><span class="co">#&gt; 22 b25f3834-69b3-4d87-a272-3938432d1f30</span></span>
<span><span class="co">#&gt; 23 94423ec1-21f8-40e8-b5c9-c3ea82350ca4</span></span>
<span><span class="co">#&gt; 24 2f6a20f1-173d-4b8d-860b-c47ffea120fa</span></span>
<span><span class="co">#&gt; 25 da684768-fb01-455b-9f0f-b63a3e2f844f</span></span>
<span><span class="co">#&gt; 26 a65bcc2d-4243-44c1-a262-ab7dcddfcf86</span></span>
<span><span class="co">#&gt; 27 75a881cf-5d88-46e2-bf9b-97e5cbc1bd56</span></span>
<span><span class="co">#&gt; 28 0c86f0de-ddcb-454c-b00b-37feb69e7da1</span></span>
<span><span class="co">#&gt; 29 9f049476-2431-4645-a2d6-f6e85892b603</span></span>
<span><span class="co">#&gt; 30 0380ddce-c31b-422a-88fe-34a1945bd949</span></span>
<span><span class="co">#&gt; 31 1009f384-b12d-448e-ba9f-1b7d2ecfbb4e</span></span>
<span><span class="co">#&gt; 32 3b6ed41e-10a1-47dd-b995-8cde7d041fd6</span></span>
<span><span class="co">#&gt; 33 e763ed0d-0e5a-4b8e-9514-6da3d9e47956</span></span>
<span><span class="co">#&gt; 34 d95ab381-2b7c-4885-b168-0097ed4e397f</span></span>
<span><span class="co">#&gt; 35 b3a5a10f-b1cb-4e8e-abce-bf345448625b</span></span>
<span><span class="co">#&gt; 36 e5f5d954-cf0e-4bd8-9346-8d1ddf15a08b</span></span>
<span><span class="co">#&gt; 37 62de80d7-e6c4-4ff0-ad4c-d3d36f57cb93</span></span>
<span><span class="co">#&gt; 38 9cfee1e6-b24f-433d-a269-f01841655d6a</span></span>
<span><span class="co">#&gt; 39 4269074c-f2c1-4d88-b2c3-0946f59d5449</span></span>
<span><span class="co">#&gt; 40 7d98cc44-b090-4dc8-804f-2750c84fe9d7</span></span>
<span><span class="co">#&gt; 41 c3d381b2-3104-444e-8ad5-d3524407bbb6</span></span>
<span><span class="co">#&gt; 42 66d15835-5dc8-4e96-b0eb-f48971cb65e8</span></span>
<span><span class="co">#&gt; 43 8a554710-08bc-4005-87cd-da9675bdc2e7</span></span>
<span><span class="co">#&gt; 44 ce009dc1-ac57-4386-b72f-5c575701c253</span></span>
<span><span class="co">#&gt; 45 dbf0bd35-87f8-4b25-bc90-a3c54f379907</span></span>
<span><span class="co">#&gt; 46 6de332e1-465e-4243-9412-6fdc7497e99d</span></span>
<span><span class="co">#&gt; 47 faed4f71-6b50-4fc7-bd1c-8f385dccfdce</span></span>
<span><span class="co">#&gt; 48 c8f83821-a242-4ed7-86e9-7da077f5d348</span></span>
<span><span class="co">#&gt; 49 731e6380-879f-4b0b-9a1f-2150208852ef</span></span>
<span><span class="co">#&gt; 50 774c18c5-efa1-4dc5-9e5e-2c824bab2e34</span></span>
<span><span class="co">#&gt; 51 ea786a06-5855-48b7-80d7-0313a21a2044</span></span>
<span><span class="co">#&gt; 52 524179b0-b406-4723-9c46-293ffa77ca81</span></span>
<span><span class="co">#&gt; 53 cbd62079-bed8-4aa1-9659-670f9cb51f9d</span></span>
<span><span class="co">#&gt; 54 3e87b1fa-472a-401c-8fa8-f31c10437d5f</span></span>
<span><span class="co">#&gt; 55 f16f4108-7873-4035-9989-3748da1a7ff1</span></span>
<span><span class="co">#&gt; 56 58679288-9ecc-4647-9781-12a3a8f8c6fd</span></span>
<span><span class="co">#&gt; 57 cdefb878-7f00-4b9d-9eda-b3652cfac0c8</span></span>
<span><span class="co">#&gt; 58 1492eb6b-7d50-4c4d-94ac-c801a7d5555c</span></span>
<span><span class="co">#&gt; 59 bdf69f8d-5a96-4d6f-a9f5-9ee0e33597b7</span></span>
<span><span class="co">#&gt; 60 ee195b7d-184d-4dfa-9b1c-51a7e601ac11</span></span>
<span><span class="co">#&gt; 61 9b188f26-c8e1-4a78-af15-622a35a371fc</span></span>
<span><span class="co">#&gt; 62 f6dafdd1-d746-407e-8019-4470e02d4cbd</span></span>
<span><span class="co">#&gt; 63 24066994-8183-488d-b037-ef6bb524af39</span></span>
<span><span class="co">#&gt; 64 84242d25-f656-4ca6-8e8d-f3d2beeba11f</span></span>
<span><span class="co">#&gt; 65 8f1bc86b-7976-4826-8602-f5266160ad86</span></span>
<span><span class="co">#&gt; 66 2fc9c59f-3cfd-48d9-9b23-e369ea31bff3</span></span>
<span><span class="co">#&gt; 67 470565f2-5afc-456a-b617-18e4496c04fd</span></span>
<span><span class="co">#&gt; 68 4c6f9f26-5470-455b-8933-c408232fbf56</span></span>
<span><span class="co">#&gt; 69 b07e5164-baf6-43d2-bdba-5a249d0da879</span></span>
<span><span class="co">#&gt; 70 bf176af2-4432-4391-9b35-e21bd86ca4f8</span></span>
<span><span class="co">#&gt; 71 7b3368a5-c1a0-4973-9e75-d95b4150c7da</span></span>
<span><span class="co">#&gt; 72 f75f2ff4-2884-4c2d-b375-70de37a34507</span></span>
<span><span class="co">#&gt; 73 2ecc72f8-085f-4e86-8692-771f316c54f6</span></span>
<span><span class="co">#&gt; 74 cec9f9a5-8832-437d-99af-fb8237cde54b</span></span>
<span><span class="co">#&gt; 75 de4e7a0c-91b2-44e4-b382-87da74c9efb6</span></span>
<span><span class="co">#&gt; 76 20d87640-4be8-487f-93d4-dce38378d00f</span></span>
<span><span class="co">#&gt; 77 81e91ff8-f619-4ad1-a0c3-b45e1dc63f68</span></span>
<span><span class="co">#&gt; 78 03d5794d-cde9-4769-a1a9-b3899d2b1d87</span></span>
<span><span class="co">#&gt; 79 e2529f66-d051-4670-b34a-7dca4e474f9f</span></span>
<span><span class="co">#&gt; 80 dc30c3ec-46d6-4cd8-8ec1-b544a3d0f503</span></span>
<span><span class="co">#&gt; 81 389b1fd4-2b65-4f60-baba-feeb17507665</span></span>
<span><span class="co">#&gt; 82 cd77258f-b08b-4c89-b93f-6e6f146b1a4d</span></span>
<span><span class="co">#&gt; 83 04b0eb97-d816-44bb-93a5-8b2968791aa0</span></span>
<span><span class="co">#&gt; 84 51f476f7-b24d-42f3-8871-7dab3fa35e96</span></span>
<span><span class="co">#&gt; 85 6dafb698-7a53-4699-ad13-1b5e2c164be7</span></span>
<span><span class="co">#&gt;                                                                                                                           dataset_title</span></span>
<span><span class="co">#&gt; 1                                                                                                          Healthy human liver: B cells</span></span>
<span><span class="co">#&gt; 2                                                                                                  Human tonsil nonlymphoid cells scRNA</span></span>
<span><span class="co">#&gt; 3                             Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: SFG microglia</span></span>
<span><span class="co">#&gt; 4                                                                                                      Steady-state B cells - scRNA-seq</span></span>
<span><span class="co">#&gt; 5                                                                                      blood and bone marrow from a healthy young donor</span></span>
<span><span class="co">#&gt; 6                                                                                                            Myeloid cells of human eye</span></span>
<span><span class="co">#&gt; 7                              Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: EC microglia</span></span>
<span><span class="co">#&gt; 8                                                                                                                                   PNS</span></span>
<span><span class="co">#&gt; 9                                                                                 Stellate cells from human healthy donor liver samples</span></span>
<span><span class="co">#&gt; 10                                                                                          Healthy human liver: hepatic stellate cells</span></span>
<span><span class="co">#&gt; 11                                                                                                     Healthy human liver: lymphocytes</span></span>
<span><span class="co">#&gt; 12                                                                                Cholangiocytes from human healthy donor liver samples</span></span>
<span><span class="co">#&gt; 13                            Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: EC astrocytes</span></span>
<span><span class="co">#&gt; 14                                                                                       B cells from human healthy donor liver samples</span></span>
<span><span class="co">#&gt; 15                           Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: SFG astrocytes</span></span>
<span><span class="co">#&gt; 16             Urethral luminal epithelia are castration-insensitive cells of the proximal prostate - Human Fibromuscular Stromal Cells</span></span>
<span><span class="co">#&gt; 17                                                                           74 years old female - Airway Wash (5 days post-intubation)</span></span>
<span><span class="co">#&gt; 18                       Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: EC oligodendrocyte</span></span>
<span><span class="co">#&gt; 19             Urethral luminal epithelia are castration-insensitive cells of the proximal prostate - Mouse Fibromuscular Stromal Cells</span></span>
<span><span class="co">#&gt; 20                      A Cellular Anatomy of the Normal Adult Human Prostate and Prostatic Urethra - Human Fibromuscular Stromal Cells</span></span>
<span><span class="co">#&gt; 21                                                         A single-cell and spatially-resolved atlas of human breast cancers - B_cells</span></span>
<span><span class="co">#&gt; 22                                                                            82 years old female - Airway Wash (1 day post-intubation)</span></span>
<span><span class="co">#&gt; 23                                                                                                                UMAP of Myeloid cells</span></span>
<span><span class="co">#&gt; 24                                                                            Horizontal cells of the human fovea and peripheral retina</span></span>
<span><span class="co">#&gt; 25                                                                                         UMAP visualization of fibroblast subclusters</span></span>
<span><span class="co">#&gt; 26                                                                           74 years old female - Airway Wash (7 days post-intubation)</span></span>
<span><span class="co">#&gt; 27                    Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: EC inhibitory neurons</span></span>
<span><span class="co">#&gt; 28                                                    A single-cell and spatially-resolved atlas of human breast cancers - Plasmablasts</span></span>
<span><span class="co">#&gt; 29                                                                                                  Healthy human liver: cholangiocytes</span></span>
<span><span class="co">#&gt; 30                                          Aorta &lt;U+2014&gt; A single-cell transcriptomic atlas characterizes ageing tissues in the mouse</span></span>
<span><span class="co">#&gt; 31                                                                                     Neuronal &lt;U+2014&gt; Cells of the adult human heart</span></span>
<span><span class="co">#&gt; 32                                                                                                     Healthy human liver: macrophages</span></span>
<span><span class="co">#&gt; 33                           Platelet sub_clusters of COVID-19 Immune Altas: Integration of 5 public COVID-19 PBMC single-cell datasets</span></span>
<span><span class="co">#&gt; 34                                                                                                              Cone cells of human eye</span></span>
<span><span class="co">#&gt; 35                                                                                                       15 leukemic bone marrow donors</span></span>
<span><span class="co">#&gt; 36                                                                             49 years old male - Airway Wash (3 days post-intubation)</span></span>
<span><span class="co">#&gt; 37                                                                           66 years old female - Airway Wash (4 days post-intubation)</span></span>
<span><span class="co">#&gt; 38                                                                                        Retinal pigment epithelial cells of human eye</span></span>
<span><span class="co">#&gt; 39                                            Spatiotemporal analysis of human intestinal development at single-cell resolution: Immune</span></span>
<span><span class="co">#&gt; 40                                                                              49 years old male - Airway Wash (1 day post-intubation)</span></span>
<span><span class="co">#&gt; 41                                                                                                        Horizontal cells of human eye</span></span>
<span><span class="co">#&gt; 42       Single cell transcriptome analysis of human pancreas reveals transcriptional signatures of aging and somatic mutation patterns</span></span>
<span><span class="co">#&gt; 43                                                                            82 years old female - Fresh PBMCs (1 day post-intubation)</span></span>
<span><span class="co">#&gt; 44                                                                           74 years old female - Airway Wash (6 days post-intubation)</span></span>
<span><span class="co">#&gt; 45                                                                           66 years old female - Airway Wash (3 days post-intubation)</span></span>
<span><span class="co">#&gt; 46                                                                                                           e12.5 thalamic progenitors</span></span>
<span><span class="co">#&gt; 47                                                                                                            UMAP of Endothelial cells</span></span>
<span><span class="co">#&gt; 48                                                                                                            white matter - astrocytes</span></span>
<span><span class="co">#&gt; 49                                                                           74 years old female - Airway Wash (8 days post-intubation)</span></span>
<span><span class="co">#&gt; 50                                                                                     Infiltrating Neoplastic Cells Human Glioblastoma</span></span>
<span><span class="co">#&gt; 51                                                                           66 years old female - Fresh PBMCs (3 days post-intubation)</span></span>
<span><span class="co">#&gt; 52                                   Kidney - A single-cell transcriptomic atlas characterizes ageing tissues in the mouse - Smart-seq2</span></span>
<span><span class="co">#&gt; 53                                      Diaphragm &lt;U+2014&gt; A single-cell transcriptomic atlas characterizes ageing tissues in the mouse</span></span>
<span><span class="co">#&gt; 54                                                                        Endothelial - MTG: Seattle Alzheimer's Disease Atlas (SEA-AD)</span></span>
<span><span class="co">#&gt; 55                                                                                    Supercluster: Committed oligodendrocyte precursor</span></span>
<span><span class="co">#&gt; 56                    Spatiotemporal analysis of human intestinal development at single-cell resolution: Myofibroblasts and Mesothelium</span></span>
<span><span class="co">#&gt; 57                                                                                                                               Cilium</span></span>
<span><span class="co">#&gt; 58                   Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: SFG inhibitory neurons</span></span>
<span><span class="co">#&gt; 59                                                                                                 DCM/ACM heart cell atlas: Adipocytes</span></span>
<span><span class="co">#&gt; 60                                                                                                                       Adult duodenum</span></span>
<span><span class="co">#&gt; 61                                                                                                            UMAP of Fibroblasts cells</span></span>
<span><span class="co">#&gt; 62                                                                                                                              B cells</span></span>
<span><span class="co">#&gt; 63                      Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: SFG oligodendrocyte</span></span>
<span><span class="co">#&gt; 64                                                                                                             white matter - microglia</span></span>
<span><span class="co">#&gt; 65                           Brown adipose tissue &lt;U+2014&gt; A single-cell transcriptomic atlas characterizes ageing tissues in the mouse</span></span>
<span><span class="co">#&gt; 66                                                                                             Mature kidney dataset: non PT parenchyma</span></span>
<span><span class="co">#&gt; 67                                                                                         Dissection: Midbrain (RN) - Red Nucleus - RN</span></span>
<span><span class="co">#&gt; 68 chRCC - Single-cell analyses of renal cell cancers reveal insights into tumor microenvironment, cell of origin, and therapy response</span></span>
<span><span class="co">#&gt; 69                                                                              A Single-Cell Transcriptome Atlas of the Human Pancreas</span></span>
<span><span class="co">#&gt; 70                                                                              Healthy human liver: liver sinusoidal endothelial cells</span></span>
<span><span class="co">#&gt; 71                                                                                                                              B cells</span></span>
<span><span class="co">#&gt; 72                                                                                   Adipocytes &lt;U+2014&gt; Cells of the adult human heart</span></span>
<span><span class="co">#&gt; 73                                                                      Endothelial - DLPFC: Seattle Alzheimer's Disease Atlas (SEA-AD)</span></span>
<span><span class="co">#&gt; 74                                                                                                  Retinal ganglion cells of human eye</span></span>
<span><span class="co">#&gt; 75                          Large intestine - A single-cell transcriptomic atlas characterizes ageing tissues in the mouse - Smart-seq2</span></span>
<span><span class="co">#&gt; 76                                                                                                        Mature kidney dataset: immune</span></span>
<span><span class="co">#&gt; 77                                                                          Sst Chodl - MTG: Seattle Alzheimer's Disease Atlas (SEA-AD)</span></span>
<span><span class="co">#&gt; 78                                                                                                     UMAP of Plasma and B-Cells cells</span></span>
<span><span class="co">#&gt; 79                                                             A Single-Cell Atlas of Mouse White Adipose Tissue - Mouse vascular cells</span></span>
<span><span class="co">#&gt; 80                                                                                                               Oligodendrocytes in MS</span></span>
<span><span class="co">#&gt; 81                                                                                                                          vasculature</span></span>
<span><span class="co">#&gt; 82                    Molecular characterization of selectively vulnerable neurons in Alzheimer&lt;U+2019&gt;s Disease: EC excitatory neurons</span></span>
<span><span class="co">#&gt; 83                                         Spatiotemporal analysis of human intestinal development at single-cell resolution: Pericytes</span></span>
<span><span class="co">#&gt; 84                                                                           74 years old female - Airway Wash (4 days post-intubation)</span></span>
<span><span class="co">#&gt; 85                                                                                                              Supercluster: Ependymal</span></span>
<span><span class="co">#&gt;    dataset_total_cell_count</span></span>
<span><span class="co">#&gt; 1                       146</span></span>
<span><span class="co">#&gt; 2                       363</span></span>
<span><span class="co">#&gt; 3                      3799</span></span>
<span><span class="co">#&gt; 4                      1324</span></span>
<span><span class="co">#&gt; 5                     15502</span></span>
<span><span class="co">#&gt; 6                       395</span></span>
<span><span class="co">#&gt; 7                      5572</span></span>
<span><span class="co">#&gt; 8                       649</span></span>
<span><span class="co">#&gt; 9                      1417</span></span>
<span><span class="co">#&gt; 10                     1374</span></span>
<span><span class="co">#&gt; 11                     2346</span></span>
<span><span class="co">#&gt; 12                     1011</span></span>
<span><span class="co">#&gt; 13                     5500</span></span>
<span><span class="co">#&gt; 14                     1250</span></span>
<span><span class="co">#&gt; 15                     5970</span></span>
<span><span class="co">#&gt; 16                     1295</span></span>
<span><span class="co">#&gt; 17                     1324</span></span>
<span><span class="co">#&gt; 18                     8168</span></span>
<span><span class="co">#&gt; 19                     1647</span></span>
<span><span class="co">#&gt; 20                     2113</span></span>
<span><span class="co">#&gt; 21                     3206</span></span>
<span><span class="co">#&gt; 22                     1074</span></span>
<span><span class="co">#&gt; 23                     3282</span></span>
<span><span class="co">#&gt; 24                     2868</span></span>
<span><span class="co">#&gt; 25                     2303</span></span>
<span><span class="co">#&gt; 26                      810</span></span>
<span><span class="co">#&gt; 27                     5331</span></span>
<span><span class="co">#&gt; 28                     3524</span></span>
<span><span class="co">#&gt; 29                     1861</span></span>
<span><span class="co">#&gt; 30                      906</span></span>
<span><span class="co">#&gt; 31                     3961</span></span>
<span><span class="co">#&gt; 32                     3977</span></span>
<span><span class="co">#&gt; 33                     7274</span></span>
<span><span class="co">#&gt; 34                     1378</span></span>
<span><span class="co">#&gt; 35                    31586</span></span>
<span><span class="co">#&gt; 36                     2487</span></span>
<span><span class="co">#&gt; 37                     2598</span></span>
<span><span class="co">#&gt; 38                     1635</span></span>
<span><span class="co">#&gt; 39                     2199</span></span>
<span><span class="co">#&gt; 40                     2489</span></span>
<span><span class="co">#&gt; 41                     1875</span></span>
<span><span class="co">#&gt; 42                     2544</span></span>
<span><span class="co">#&gt; 43                     4232</span></span>
<span><span class="co">#&gt; 44                     2834</span></span>
<span><span class="co">#&gt; 45                     3434</span></span>
<span><span class="co">#&gt; 46                     1789</span></span>
<span><span class="co">#&gt; 47                     3951</span></span>
<span><span class="co">#&gt; 48                     3596</span></span>
<span><span class="co">#&gt; 49                     2065</span></span>
<span><span class="co">#&gt; 50                     3589</span></span>
<span><span class="co">#&gt; 51                     4792</span></span>
<span><span class="co">#&gt; 52                     1833</span></span>
<span><span class="co">#&gt; 53                     1858</span></span>
<span><span class="co">#&gt; 54                     1973</span></span>
<span><span class="co">#&gt; 55                     4720</span></span>
<span><span class="co">#&gt; 56                     2833</span></span>
<span><span class="co">#&gt; 57                     1641</span></span>
<span><span class="co">#&gt; 58                     7506</span></span>
<span><span class="co">#&gt; 59                     2576</span></span>
<span><span class="co">#&gt; 60                     5200</span></span>
<span><span class="co">#&gt; 61                     5754</span></span>
<span><span class="co">#&gt; 62                     3699</span></span>
<span><span class="co">#&gt; 63                    15772</span></span>
<span><span class="co">#&gt; 64                     3851</span></span>
<span><span class="co">#&gt; 65                     2223</span></span>
<span><span class="co">#&gt; 66                     4620</span></span>
<span><span class="co">#&gt; 67                     4714</span></span>
<span><span class="co">#&gt; 68                     2576</span></span>
<span><span class="co">#&gt; 69                     2126</span></span>
<span><span class="co">#&gt; 70                     6289</span></span>
<span><span class="co">#&gt; 71                     4138</span></span>
<span><span class="co">#&gt; 72                     3799</span></span>
<span><span class="co">#&gt; 73                     2496</span></span>
<span><span class="co">#&gt; 74                     1777</span></span>
<span><span class="co">#&gt; 75                     1887</span></span>
<span><span class="co">#&gt; 76                     7803</span></span>
<span><span class="co">#&gt; 77                     1310</span></span>
<span><span class="co">#&gt; 78                     9015</span></span>
<span><span class="co">#&gt; 79                     7632</span></span>
<span><span class="co">#&gt; 80                    17799</span></span>
<span><span class="co">#&gt; 81                      959</span></span>
<span><span class="co">#&gt; 82                     8362</span></span>
<span><span class="co">#&gt; 83                     4163</span></span>
<span><span class="co">#&gt; 84                     4147</span></span>
<span><span class="co">#&gt; 85                     5882</span></span>
<span><span class="co">#&gt;  [ reached 'max' / getOption("max.print") -- omitted 727 rows ]</span></span></code></pre></div>
<p>The sum of cell counts across all datasets should match the number of cells across all SOMA experiments (human, mouse).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">census_data</span> <span class="op">&lt;-</span> <span class="va">census</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"census_data"</span><span class="op">)</span></span>
<span><span class="va">all_experiments</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">census_data</span><span class="op">$</span><span class="fu">to_list</span><span class="op">(</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">census_data</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">all_experiments</span><span class="op">)</span></span>
<span><span class="co">#&gt; $homo_sapiens</span></span>
<span><span class="co">#&gt; &lt;SOMAExperiment&gt;</span></span>
<span><span class="co">#&gt;   uri: s3://cellxgene-census-public-us-west-2/cell-census/2024-07-01/soma/census_data/homo_sapiens </span></span>
<span><span class="co">#&gt;   arrays: obs* </span></span>
<span><span class="co">#&gt;   groups: ms* </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mus_musculus</span></span>
<span><span class="co">#&gt; &lt;SOMAExperiment&gt;</span></span>
<span><span class="co">#&gt;   uri: s3://cellxgene-census-public-us-west-2/cell-census/2024-07-01/soma/census_data/mus_musculus </span></span>
<span><span class="co">#&gt;   arrays: obs* </span></span>
<span><span class="co">#&gt;   groups: ms*</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">experiments_total_cells</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">all_experiments</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">obs</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span>column_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"soma_joinid"</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="fu">concat</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Found"</span>, <span class="va">experiments_total_cells</span>, <span class="st">"cells in all experiments."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Found 115556140 cells in all experiments."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>  <span class="st">"Found"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">census_datasets</span><span class="op">$</span><span class="va">dataset_total_cell_count</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"cells in all datasets."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Found 115556140 cells in all datasets."</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fetching-the-expression-data-from-a-single-dataset">Fetching the expression data from a single dataset<a class="anchor" aria-label="anchor" href="#fetching-the-expression-data-from-a-single-dataset"></a>
</h2>
<p>Let’s pick one dataset to slice out of the census, and turn into a Seurat in-memory object. (This requires the <code>Seurat</code> package to have been installed beforehand.)</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">census_datasets</span><span class="op">[</span><span class="va">census_datasets</span><span class="op">$</span><span class="va">dataset_id</span> <span class="op">==</span> <span class="st">"0bd1a1de-3aee-40e0-b2ec-86c7a30c7149"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;     soma_joinid</span></span>
<span><span class="co">#&gt; 514         513</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                          citation</span></span>
<span><span class="co">#&gt; 514 Publication: https://doi.org/10.1038/s41586-020-2496-1 Dataset Version: https://datasets.cellxgene.cziscience.com/64d581c0-2683-44f4-b65b-019e679a33e8.h5ad curated and distributed by CZ CELLxGENE Discover in Collection: https://cellxgene.cziscience.com/collections/0b9d8a04-bb9d-44da-aa27-705bb65b54eb</span></span>
<span><span class="co">#&gt;                            collection_id    collection_name            collection_doi</span></span>
<span><span class="co">#&gt; 514 0b9d8a04-bb9d-44da-aa27-705bb65b54eb Tabula Muris Senis 10.1038/s41586-020-2496-1</span></span>
<span><span class="co">#&gt;                               dataset_id                   dataset_version_id</span></span>
<span><span class="co">#&gt; 514 0bd1a1de-3aee-40e0-b2ec-86c7a30c7149 64d581c0-2683-44f4-b65b-019e679a33e8</span></span>
<span><span class="co">#&gt;                                                                                        dataset_title</span></span>
<span><span class="co">#&gt; 514 Bone marrow - A single-cell transcriptomic atlas characterizes ageing tissues in the mouse - 10x</span></span>
<span><span class="co">#&gt;                             dataset_h5ad_path dataset_total_cell_count</span></span>
<span><span class="co">#&gt; 514 0bd1a1de-3aee-40e0-b2ec-86c7a30c7149.h5ad                    40220</span></span></code></pre></div>
<p>Create a query on the mouse experiment, “RNA” measurement, for the <code>dataset_id</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/single-cell-data/TileDB-SOMA" class="external-link">"tiledbsoma"</a></span><span class="op">)</span></span>
<span><span class="va">obs_query</span> <span class="op">&lt;-</span> <span class="va"><a href="https://rdrr.io/pkg/tiledbsoma/man/SOMAAxisQuery.html" class="external-link">SOMAAxisQuery</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  value_filter <span class="op">=</span> <span class="st">"dataset_id == '0bd1a1de-3aee-40e0-b2ec-86c7a30c7149'"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">expt_query</span> <span class="op">&lt;-</span> <span class="va">census_data</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"mus_musculus"</span><span class="op">)</span><span class="op">$</span><span class="fu">axis_query</span><span class="op">(</span></span>
<span>  measurement_name <span class="op">=</span> <span class="st">"RNA"</span>,</span>
<span>  obs_query <span class="op">=</span> <span class="va">obs_query</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dataset_seurat</span> <span class="op">&lt;-</span> <span class="va">expt_query</span><span class="op">$</span><span class="fu">to_seurat</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>counts <span class="op">=</span> <span class="st">"raw"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dataset_seurat</span><span class="op">)</span></span>
<span><span class="co">#&gt; An object of class Seurat </span></span>
<span><span class="co">#&gt; 52437 features across 40220 samples within 1 assay </span></span>
<span><span class="co">#&gt; Active assay: RNA (52437 features, 0 variable features)</span></span>
<span><span class="co">#&gt;  2 layers present: counts, data</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="downloading-the-original-source-h5ad-file-of-a-dataset">Downloading the original source H5AD file of a dataset<a class="anchor" aria-label="anchor" href="#downloading-the-original-source-h5ad-file-of-a-dataset"></a>
</h2>
<p>You can use the <code><a href="../reference/get_source_h5ad_uri.html">cellxgene.census::get_source_h5ad_uri()</a></code> API to fetch a URI pointing to the H5AD associated with this <code>dataset_id</code>. This is the same H5AD you can download from <a href="https://github.com/chanzuckerberg/cellxgene-census/blob/main/api/python/notebooks/api_demo/census_datasets.ipynb" class="external-link">CZ CELLxGENE Discover</a>, and may contain additional data-submitter provided information which was not included in the Census.</p>
<p>To do this you can fetch the location in the cloud or directly download to your system.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Option 1: Direct download</span></span>
<span><span class="fu"><a href="../reference/download_source_h5ad.html">download_source_h5ad</a></span><span class="op">(</span></span>
<span>  dataset_id <span class="op">=</span> <span class="st">"0bd1a1de-3aee-40e0-b2ec-86c7a30c7149"</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"/tmp/Tabula_Muris_Senis-bone_marrow.h5ad"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Option 2: Get location and download via preferred method</span></span>
<span><span class="fu"><a href="../reference/get_source_h5ad_uri.html">get_source_h5ad_uri</a></span><span class="op">(</span><span class="st">"0bd1a1de-3aee-40e0-b2ec-86c7a30c7149"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $uri</span></span>
<span><span class="co">#&gt; [1] "s3://cellxgene-census-public-us-west-2/cell-census/2024-07-01/h5ads/0bd1a1de-3aee-40e0-b2ec-86c7a30c7149.h5ad"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $s3_region</span></span>
<span><span class="co">#&gt; [1] "us-west-2"</span></span></code></pre></div>
<p>The local H5AD file can be used in R using <a href="https://mojaveazure.github.io/seurat-disk/articles/convert-anndata.html" class="external-link">SeuratDisk’s anndata converter</a>.</p>
<div class="section level3">
<h3 id="close-the-census">Close the census<a class="anchor" aria-label="anchor" href="#close-the-census"></a>
</h3>
<p>After use, the census object should be closed to release memory and other resources.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">census</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This also closes all SOMA objects accessed via the top-level <code>census</code>. Closing can be automated using <code>on.exit(census$close(), add = TRUE)</code> immediately after <code>census &lt;- open_soma()</code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chan Zuckerberg Initiative Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
